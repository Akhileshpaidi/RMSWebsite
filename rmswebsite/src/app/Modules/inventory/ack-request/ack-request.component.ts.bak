import { Component,OnInit } from '@angular/core';
import themes from 'devextreme/ui/themes';
import { HttpClient,HttpHeaders } from '@angular/common/http';

import {BASE_URL} from 'src/app/core/Constant/apiConstant';

import CustomStore from 'devextreme/data/custom_store';
import { YourDataService } from './ack-request.service';


const URL = BASE_URL;
const headers = new HttpHeaders();
headers.append('Content-Type', 'text/plain');

@Component({
  selector: 'app-ack-request',
  templateUrl: './ack-request.component.html',
  styleUrls: ['./ack-request.component.scss']
})
export class AckRequestComponent implements OnInit {

 files: Document[] = []; // Use the interface here
  selectedFileUrl: string = '';
  pdfSrc: string = 'http://www.pdf995.com/samples/pdf.pdf';
  gridDataSource:any;
  checkBoxesMode: string;
  allMode: string;

   data:any;
  constructor(private yourDataService: YourDataService,private http: HttpClient){
    this.checkBoxesMode = themes.current().startsWith('material') ? 'always' : 'onClick';
    this.allMode = 'allPages';

    
    this.gridDataSource={
      paginate: true,
      store: new CustomStore({
          key: 'doc_User_Access_mapping_id',
          loadMode: 'raw',
          load:()=>{return new Promise((resolve, reject) => {
            this.http.get(URL + '/Acknowlwdgedata/GetAcknowlwdgedataDetails', {headers})
              .subscribe(res => {
               (resolve(res));
    
              }, (err) => {
                reject(err);
              });
        });
        },
      }),
    };
  }

  searchTable(event: any) {
    const filterValue = (event.target as HTMLInputElement).value;
    // this.dataSource.filter = filterValue.trim().toLowerCase();
  }
  applyFilter(event: Event): void {
    const filter = (event.target as HTMLInputElement).value
      .trim()
      .toLocaleLowerCase();
  }

  name = 'Angular';
  viewer = 'google';
  selectedType = 'docx'; //'docx';
  //pdfSrc = 'http://www.pdf995.com/samples/pdf.pdf';
  pdfSrc = 'https://files.fm/down.php?i=axwasezb&n=SSaD.docx';
  //pdfSrc = '/assets/SSaD.docx';

  contentLoaded() {
    console.log('File loaded');

  }
}
