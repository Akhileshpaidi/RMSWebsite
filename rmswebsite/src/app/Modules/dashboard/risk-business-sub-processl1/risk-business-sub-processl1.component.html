<div class="form">
    <div class="body">
      <div class="header">
        <div style="align-self:self-end;">
              <div class="card">
                  <div class="card-header">
                      <h1 class="title">Business Sub-Process (L1)</h1>
                  </div>
                  
  <div class="card-body">
        <div id="app-container">
        <dx-data-grid id="dataGrid"
          [dataSource]="dataSource"
          [showBorders]="true"
         
          [allowColumnResizing]="true"
          [columnAutoWidth]="true"
          [allowColumnReordering]="true"
          
          (onExporting)="exportGrid1($event)">
  
          <dxi-column type="buttons" [width]="110">
            <dxi-button name="edit"></dxi-button>
            <dxi-button name="delete"></dxi-button>
  
          </dxi-column>
          <dxi-column dataField="businessProcessL1ID"  caption="Business Process Id" >
            <dxo-form-item [visible]="false">
            </dxo-form-item>
          </dxi-column>
          <dxi-column dataField="entityid" caption="Entity Name" [setCellValue]="setDocumentTypeValue" > 
            <dxi-validation-rule type="required"></dxi-validation-rule> 
            <dxo-lookup [dataSource]="Entity" valueExpr="entity_Master_id"  displayExpr="entity_Master_Name" ></dxo-lookup>  
        </dxi-column>
        <dxi-column dataField="unitlocationid" caption="Unit Location" [setCellValue]="setDepartment" >
          <dxi-validation-rule type="required"></dxi-validation-rule> 
          <dxo-lookup [dataSource]="getunitlocation" valueExpr="unit_location_Master_id" displayExpr="unit_location_Master_name" ></dxo-lookup>  
      </dxi-column>
      <dxi-column dataField="departmentid" caption="Department Name" [setCellValue]="setBusiness">
          <dxi-validation-rule type="required"></dxi-validation-rule> 
          <dxo-lookup [dataSource]="getDepartment" valueExpr="department_Master_id" displayExpr="department_Master_name" ></dxo-lookup>  
      </dxi-column>
      <dxi-column dataField="riskBusinessfunctionid" caption="Business Function">
        <dxi-validation-rule type="required"></dxi-validation-rule> 
        <dxo-lookup [dataSource]="getFunction" valueExpr="riskBusinessfunctionid" displayExpr="riskbusinessname" ></dxo-lookup>  
    </dxi-column>
        <dxi-column dataField="businessprocessID" caption="Business Process">
          <dxi-validation-rule type="required"></dxi-validation-rule> 
          <dxo-lookup [dataSource]="typedata" valueExpr="businessprocessID" displayExpr="businessProcessName" ></dxo-lookup>  
      </dxi-column>

        <dxi-column dataField="businessSubProcessL1Name" caption="Business Sub-ProcessL1 Name">
          <dxi-validation-rule type="stringLength" [max]="150" message="max 150 Characters allowed"></dxi-validation-rule>
           
          <dxi-validation-rule type="required"></dxi-validation-rule>   
      </dxi-column>
      
      <dxi-column dataField="businessSubProcessL1Description"  caption="Business Sub-ProcessL1 Description">
        <dxi-validation-rule type="stringLength" [max]="250" message="max 250 Characters allowed"></dxi-validation-rule>
      </dxi-column>
      <dxi-column dataField="subProcessObjestive"  caption="Business Sub-Process Objestive">
        <dxi-validation-rule type="stringLength" [max]="500" message="max 500 Characters allowed"></dxi-validation-rule>
      </dxi-column>
    
      
      <dxo-column-chooser [enabled]="true"></dxo-column-chooser>
      <dxo-column-fixing [enabled]="true"></dxo-column-fixing>
      <dxo-filter-row [visible]="true"></dxo-filter-row>
      <dxo-search-panel [visible]="true"></dxo-search-panel>
      <dxo-group-panel [visible]="true"></dxo-group-panel>
      <dxo-selection mode="single"></dxo-selection>
          <dxo-summary>
            <dxi-total-item
                column="businessProcessL1ID"
                summaryType="count">
            </dxi-total-item>
            
        </dxo-summary>
        <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
        <dxo-paging [enabled]="true" [pageSize]="10"></dxo-paging>
        <dxo-pager
        [visible]="true"
        [allowedPageSizes]="[5, 10,20, 'all']"
       
        [showPageSizeSelector]="true"
       
        [showInfo]="true"
        infoText="Page {0} of  {1} ({2} items)"
        [showNavigationButtons]="true"
      >
      </dxo-pager>
          <dxo-editing
          mode="popup"
          [allowUpdating]="true"
          [allowDeleting]="true"
          [allowAdding]="true">
            <dxo-popup
            title="Add Business Sub-ProcessL1" 
            [showTitle]="true"
            [width]="700"
            [height]="525"
           
          ></dxo-popup>
          </dxo-editing>
          <dxo-toolbar>
            <dxi-item name="groupPanel"></dxi-item>
           
            <dxi-item name="addRowButton" showText="always"></dxi-item>
            <dxi-item name="exportButton"></dxi-item>
            <dxi-item name="columnChooserButton"></dxi-item>
            <dxi-item name="searchPanel"></dxi-item>
        </dxo-toolbar>
      
      
          <dxo-export 
            [enabled]="true"
            [formats]="['xlsx', 'pdf']"
          >
          </dxo-export>
        </dx-data-grid>
        
      </div>
      </div>
              </div>
          </div>
      </div>
  </div>
  