
  <div class="form">
    <div class="body">
      <div class="header">
       
        <div style="align-self: self-end">
          <h1>View Assessment Template</h1>
        </div>
      </div> 
    </div>
    <form [formGroup]="templateForm" >
    <div class="boxNew ">
    
    <label> Select Assessment Template</label>
    
    <dx-drop-down-box style="width: 700px;"
    [dropDownOptions]="{width: '1400px'}"
    [(value)]="gridBoxValue"
    [(opened)]="isGridBoxOpened"
    valueExpr="ass_template_id"
     [deferRendering]="false"
     [displayExpr]="gridBox_displayExpr"
     placeholder="Select a Template"
     [inputAttr]="{ 'aria-label': 'Owner' }"
     [showClearButton]="true"
     [dataSource]="gridDataSource"
     (onOptionChanged)="onGridBoxOptionChanged($event)"

    >
        >
          <div *dxTemplate="let data of 'content'">
            <dx-data-grid
            [dataSource]="gridDataSource"
            [columns]="gridColumns"
              [hoverStateEnabled]="true"
              [(selectedRowKeys)]="gridBoxValue"
          height="100%"
          width="100%"
           [allowColumnResizing]="true"
                  [columnAutoWidth]="true"
                  [allowColumnReordering]="true"
    >
          <!-- <div *dxTemplate="let item of 'item'">
            <span title="item[gridBox_displayExpr]">{{item[gridBox_displayExpr]}}</span>
          </div> -->
            
                <dxo-selection mode="single"></dxo-selection>
                <dxo-filter-row [visible]="true"></dxo-filter-row>
                <dxo-scrolling mode="virtual"></dxo-scrolling>
                <dxo-header-filter [visible]="true" [allowSearch]="true">
                  <dxo-search [enabled]="true"></dxo-search>
                </dxo-header-filter>
                <dxo-paging [enabled]="true" [pageSize]="5"></dxo-paging>
                <dxo-pager
                [visible]="true"
                [allowedPageSizes]="[5, 10,20, 'all']"
               
                [showPageSizeSelector]="true"
               
                [showInfo]="true"
                infoText="Page {0} of  {1} ({2} items)"
                [showNavigationButtons]="true"
              >
              </dxo-pager>
              <dxo-group-panel [visible]="true"></dxo-group-panel>
              <dxo-grouping [autoExpandAll]="true"></dxo-grouping>
              <dxo-column-chooser [enabled]="true"></dxo-column-chooser>
           
          
                           </dx-data-grid>
          </div>
        </dx-drop-down-box>
      
    </div>
 
    
    
    
    
    <mat-horizontal-stepper labelPosition="bottom" class="wrapper" >
          
      
      <mat-step label="View Nomenclature Details" state="phone">
       
        <div class="box">
        <div fxLayoutAlign="center center">
          <div class="box">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Assessment Template Type</mat-label>
               <input matInput  formControlName="type_Name" readonly class="readonly-input"  />
            </mat-form-field>
          </div>
        </div>

        <div fxLayoutAlign="center center">
          <div class="box">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Assessment Template Sub-Type</mat-label>
               <input matInput  formControlName="subType_Name" readonly class="readonly-input" />
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="box">
        <div fxLayoutAlign="center center">
          <div class="box">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Name of Assessment Template </mat-label>
               <input matInput   formControlName="assessment_name" readonly class="readonly-input"  />
            </mat-form-field>
          </div>
        </div>
        <div fxLayoutAlign="center center">
          <div class="box">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Assessment Template Description</mat-label>
               <input matInput   formControlName="assessment_description" readonly class="readonly-input" />
            </mat-form-field>
          </div>
        </div>

    </div>
<div class="box">
    <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Assessment Template Keywords/ Tags</mat-label>
           <input matInput  formControlName="keywords" class="readonly-input" readonly  />
        </mat-form-field>
      </div>
    </div>   
    <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Assessment Template ID</mat-label>
           <input matInput   formControlName="ass_template_id" class="readonly-input" readonly />
        </mat-form-field>
      </div>
    </div>
   
    </div>
    <div class="box">
      <div fxLayoutAlign="center center">
        <div class="box">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Total No. of Questions Mapped</mat-label>
            <div class="questions-container">
              <input matInput formControlName="no_of_questions_mapped"  class="readonly-input" readonly />
             
            </div>
          </mat-form-field>
        </div>
      </div>
      <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Total Estimated Time</mat-label>
          <input matInput type="number"  [value]="sumOfEstimatedTime" class="readonly-input" readonly />
          
        </mat-form-field>
      </div>
      </div>
      
   
  </div>
  
    
    <div class="box">
      <div fxLayoutAlign="center center">
        <div class="box">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Assessment Template Created By</mat-label>
             <input matInput   type="text" [value]="username"  class="readonly-input"   readonly/>
          </mat-form-field>
        </div>
      </div>
      <div fxLayoutAlign="center center">
        <div class="box">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Assessment Template Creation Date</mat-label>
             <input matInput class="readonly-input"  [value]="createddate | date: 'dd/MMM/yyyy'"  />
          </mat-form-field>
        </div>
      </div>
    </div>
     <div class="box">
    <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Assessment Template last edited By</mat-label>
           <input matInput  class="readonly-input"  [value]="updatedusername"  type="text" />
        </mat-form-field>
      </div>
    </div>
    
    <div>
      <div fxLayoutAlign="center center">
        <div class="box">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Assessment Template last edited Date</mat-label>
             <input matInput   [value]="updateddate | date:'dd/MMM/yyyy'"  class="readonly-input" />
          </mat-form-field>
        </div>
      </div>
    </div>
    </div>
    <div class="button">
  
      <button class="Custombutton"  matStepperNext>Next</button>
     
    </div>

     
    </mat-step>
    

    <mat-step label="View List of Questions" state="phone">
       
      <div id="grid">
        <dx-data-grid
        formControlName="ass_template_id"
          id="ass_template_id"
          [dataSource]="listOfQuestions"
          key="ass_template_id"
          valueExpr="ass_template_id"
          [showBorders]="true"
                            [allowColumnResizing]="true"
                  [columnAutoWidth]="true"
                  [allowColumnReordering]="true"
          [allowColumnReordering]="true"
          
        >
        <dxo-selection
       
      
       
      ></dxo-selection>
          <dxo-paging [pageSize]="10"></dxo-paging>
          <dxo-pager
              [showPageSizeSelector]="true"
              [allowedPageSizes]="[10, 25, 50, 100]"
            ></dxo-pager>
          <dxo-search-panel
          [visible]="true"
          [width]="240"
         
       >
      </dxo-search-panel>
          <dxo-filter-row [visible]="true"></dxo-filter-row>
           <dxi-column dataField="question_id"   valueExpr="question"  displayExpr="question Id" ></dxi-column>
          <dxi-column dataField="question"  valueExpr="question"  displayExpr="question" ></dxi-column>
          <dxi-column caption="Choose image" dataField="title_Doc" displayExpr="title_Doc" [visible]="false"></dxi-column>
          <dxi-column dataField="objective"  caption="Mention Objective/ Relevance in Assessment" displayExpr="objective"></dxi-column>
          <dxi-column  dataField="subject_Name" caption="subject_Name" valueExpr="subjectid" displayExpr="subject_Name" ></dxi-column>
          <dxi-column  dataField="topic_Name" caption="topic_Name" valueExpr="topicid" displayExpr="topic_Name" ></dxi-column>

       <dxi-column dataField="check_level" caption="skill_Level_Name" valueExpr="CometencySkillLevel"
          displayExpr="CometencySkillLevel" ></dxi-column>
         
         
          <dxi-column dataField="keywords" caption="Keywords/ Tags" displayExpr="keywords"></dxi-column>
          <dxi-column dataField="estimated_time" caption="Estimated Time to Answer this Question(In Minutes)"  alignment="center" displayExpr="estimated_time" ></dxi-column>
          <dxi-column dataField="questionmarked_favourite" caption="Mark this Question as Favourite/ Default"></dxi-column>
          <dxi-column  dataField="no_of_selectionchoices" caption="No. of times this Question used" alignment="center"></dxi-column>
          
          <!-- <dxo-selection
          [selectAllMode]="allMode"
          [showCheckBoxesMode]="checkBoxesMode"
          [mode]= 'multiple'
        ></dxo-selection> -->
        </dx-data-grid>
       
      </div>
      <div class="button">
        <button class="grey-button" matStepperPrevious>Back</button>
        <button class="Custombutton"  matStepperNext>Next</button>
       
      </div>
  
       
      </mat-step>
      
      <mat-step label="View Evaluation Criteria/View Assessment Permissions" state="phone">
       
        <br>
        <br>
        <div>
         <mat-label style="display: contents;font-size:larger;font-weight: bold;">View Evaluation Criteria
            
         </mat-label>
       </div>
       <br>
       <div class="box">
       <div fxLayoutAlign="center center">
        <div class="box">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>View Competency Skill Level </mat-label>
             <input matInput   formControlName="check_level" class="readonly-input" readonly  />
          </mat-form-field>
        </div>
      </div>
      <div></div>
      </div>
    
      <br>
      <br>
      <div>
       <mat-label style="display: contents;font-size:larger;font-weight: bold;">View Assessment Permissions
          
       </mat-label>
     </div>
     <br>
     <div class="box">
     <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Select to Show Reference/ Explanation</mat-label>
           <input matInput   formControlName="ref_to_governance_control" class="readonly-input" readonly  />
        </mat-form-field>
      </div>
    </div>
    <div fxLayoutAlign="center center">
      <div class="box">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Select to Show Hint</mat-label>
           <input matInput   formControlName="question_hint" class="readonly-input" readonly  />
        </mat-form-field>
      </div>
    </div>
    </div>
  

        <div class="button">
          <button class="grey-button" matStepperPrevious>Back</button>
          
         
        </div>
    
         
        </mat-step>
      
    
    </mat-horizontal-stepper>
           
    
  </form>