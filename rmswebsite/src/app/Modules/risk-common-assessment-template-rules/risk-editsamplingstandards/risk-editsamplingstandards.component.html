<div class="form">
    <div class="body">
      <div class="header">
        <div style="align-self:self-end;">
        <h1> Update Sampling  Standard</h1>
      </div>
      <br>
    
      <br>
      <div class="box">
        <div>

          <dx-drop-down-box 
         
          [(value)]="selectedOption1"         
          [inputAttr]="{ 'aria-label': 'Owner' }"
          placeholder="Select Sampling standard*"
          label="Select sampling standard*"
          [showClearButton]="true"
          labelMode="floating"
          valueExpr="risksamplingstandardsId"
          displayExpr="samplingAuthority"
          [(opened)]="isGridBoxOpened" 
          [dataSource]="samplingdata"
          (onValueChanged)="getUpdateFormData($event)"
          >   
         <div *dxTemplate="let data of 'content'">
          <dx-data-grid    
          [dataSource]="samplingdata"
          [columns]="gridColumns"
            [selection]="{ mode: 'single' }"
            [hoverStateEnabled]="true"
            [(selectedRowKeys)]="selectedOption1"
            [filterRow]="{ visible: true }"
            [scrolling]="{ mode: 'virtual' }"
            [showColumnHeaders]="true"
            height="100%"
          >
          <dxo-filter-row [visible]="true"></dxo-filter-row>
          <dxo-scrolling mode="virtual"></dxo-scrolling>
          <dxo-header-filter [visible]="true" [allowSearch]="true">
            <dxo-search [enabled]="true"></dxo-search>
          </dxo-header-filter>
          <dxo-paging [enabled]="true" [pageSize]="10"></dxo-paging>
          <dxo-pager
          [visible]="true"
          [allowedPageSizes]="[ 10,20, 'all']"
         
          [showPageSizeSelector]="true"
         
          [showInfo]="true"
          infoText="Page {0} of  {1} ({2} items)"
          [showNavigationButtons]="true">
        </dxo-pager>
    
        <dxo-group-panel [visible]="true"></dxo-group-panel>
          <dxo-grouping [autoExpandAll]="true"></dxo-grouping>
          </dx-data-grid>
        </div> 
       </dx-drop-down-box>
       
          </div>
          <!-- [columns]="gridColumns1"    [(opened)]="isGridBoxOpened" -->
     </div>
     <br>
    
     <br>
      <form [formGroup]="sample" (ngSubmit)="updateUser()" >
        <div class="row">
            <div class="box">
                <mat-form-field  appearance="fill" class="form-field">
                    <mat-label>Name of Sampling Standard Authority</mat-label>
                    <input matInput  #titleinput  formControlName="nameofsampling"  maxlength="500" >
                    <mat-hint align="start" >Min 1 - Max 500 Characters</mat-hint>
                    <mat-hint align="end">{{titleinput.value.length}}/500</mat-hint> 
                  </mat-form-field>
            </div>
            <div class="box">
                <div>
                    <dx-select-box 
             formControlName="Frequencycontrol"
             label="Frequency of Control *"
          labelMode="floating"
          valueExpr="risk_admin_frqcontrapplidid"
          displayExpr="risk_admin_frqcontrapplidname"
          [dataSource]="Frequencycontrol"  
          [searchEnabled]="true"
          selectionMode="single" 
          placeholder=""
             > </dx-select-box> 
                  </div>
            </div>
        </div>
  
        <div class="row">
            <div class="box">
              <h3> 
                  <input type="checkbox"  style="zoom: 1.5;" name="selection4"  
                    [checked]="KeyControlsVisible" (change)="onEscaltion($event)" [(ngModel)]="KeyControlsVisible">
                    <label>For Key Controls: </label></h3>
            </div>
            <div class="box">
              <h3> 
                  <input type="checkbox"  style="zoom: 1.5;" name="selection4" 
                    [checked]="NONKeyControlsVisible" (change)="onNotifiers($event)" [(ngModel)]="NONKeyControlsVisible">
                    <label>For Non-Key Controls: </label></h3>
            </div>
            <div class="box">
              <h3> 
                  <input type="checkbox"  style="zoom: 1.5;" name="selection4" 
                    [checked]="GeneralControlsvisible" (change)="onAdditional($event)" [(ngModel)]="GeneralControlsvisible" >
                    <label>For General Controls:</label></h3>
            </div> 
        </div>
        <div class="row">
            <div class="box" style=" box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);">
              <div *ngIf="KeyControlsVisible"  formGroupName="first" style="height: 25%;" >
                
     <label>1. Min No. of Value/ Transactions/ Incidents </label>
                      <div class="dx-field-value" >
                        <dx-range-slider  style="width: 200px;"
                          [(start)]="start"
                          [(end)]="end"
                          [min]="1"
                          [max]="999999999999999"
                        >
                        <dxo-label
                        [visible]="true"
                        [format]="format"
                        position="top"
                      ></dxo-label>
                        <dxo-tooltip
                        [enabled]="true"
                        [format]="format"
                        showMode="always"
                        position="bottom"
                      ></dxo-tooltip>
                    </dx-range-slider>
                      </div>
                      <div class="box" style="width: 400px;">
                      <dx-number-box 
                      [(value)]="start"
                      label="Start value"
                      formControlName="startValue"
                      [min]="1"
                      [max]="999999999999999"
                      [showSpinButtons]="true"
                      [inputAttr]="{ 'aria-label': 'Start Value' }"
                    ></dx-number-box>
                    <dx-number-box 
                    [(value)]="end"
                    label="End value"
                    formControlName="endValues"
                    [min]="1"
                    [max]="999999999999999"
                    [showSpinButtons]="true"
                    [inputAttr]="{ 'aria-label': 'End Value' }"
                  ></dx-number-box>
              </div>
              <br>
              <div class="box" style="width: 400px;">
                  <mat-form-field  appearance="fill" class="form-field" >
                      <mat-label>Description for Transactional Value Sampling</mat-label>
                      <input matInput  #titleinput  formControlName="keycontroltranscationDescsampling"  maxlength="150" >
                      <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                      <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                    </mat-form-field>
              </div>
              <br>
             <label>2. % of Value/ Transactions/ Incidents</label>
              <div class="row">
                  <div class="box">
                      <div class="dx-field-value" >
                          <dx-slider  style="width: 200px;"
                          [min]="1"
                          [max]="100"
                          valueChangeMode="onHandleRelease"
                          [(value)]="start1"
                          formControlName="rangestartValue"
                        >
                        <dxo-label
                        [visible]="true"
                        [format]="format1"
                        position="top"
                      ></dxo-label>
                      <dxo-tooltip 
                      [enabled]="true"
                [format]="format1"
                showMode="always"
                position="top"
              ></dxo-tooltip>
                  </dx-slider>
                        </div>
                  </div>
              </div>
              <br>
              <div class="box" style="width: 400px;">
                  <mat-form-field  appearance="fill" class="form-field" >
                      <mat-label>Description for Percentage Value Sampling</mat-label>
                      <input matInput  #titleinput  formControlName="keycontrolpercantageDescsampling"  maxlength="150" >
                      <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                      <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                    </mat-form-field>
              </div>
            
              <br>
              <label>3.Description</label>
              <div class="box" style="width: 400px;">
                  <mat-form-field  appearance="fill" class="form-field" >
                      <mat-label>Text Description of Sampling </mat-label>
                      <input matInput  #titleinput  formControlName="keycontroltextDescsampling"  maxlength="150" >
                      <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                      <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                    </mat-form-field>
              </div>
              </div>
          </div>
          <div class="box" >
            <div *ngIf="NONKeyControlsVisible" formGroupName="second"  style="height: 25%;"  style=" box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);">
              
              <label>1. Min No. of Value/ Transactions/ Incidents </label> 
                    <div class="dx-field-value" >
                      <dx-range-slider  style="width: 200px;"
                        [(start)]="nonkeystart"
                        [(end)]="nonkeyend"
                        [min]="1"
                        [max]="999999999999999"
                      >
                      <dxo-label
                      [visible]="true"
                      [format]="nonkeyformat"
                      position="top"
                    ></dxo-label>
                      <dxo-tooltip
                      [enabled]="true"
                      [format]="format"
                      showMode="always"
                      position="bottom"
                    ></dxo-tooltip>
                  </dx-range-slider>
                    </div>
                    <div class="box" style="width: 400px;">
                    <dx-number-box 
                    [(value)]="nonkeystart"
                    label="Start value"
                    formControlName="nonkeystartValue"
                    [min]="1"
                    [max]="999999999999999"
                    [showSpinButtons]="true"
                    [inputAttr]="{ 'aria-label': 'Start Value' }"
                  ></dx-number-box>
                  <dx-number-box 
                  [(value)]="nonkeyend"
                  label="End value"
                  formControlName="nonkeyendValues"
                  [min]="1"
                  [max]="999999999999999"
                  [showSpinButtons]="true"
                  [inputAttr]="{ 'aria-label': 'End Value' }"
                ></dx-number-box>
            </div>
            <br>
            <div class="box" style="width: 400px;">
                <mat-form-field  appearance="fill" class="form-field" >
                    <mat-label>Description for Transactional Value Sampling</mat-label>
                    <input matInput  #titleinput  formControlName="NoncontroltranscationDescsampling"  maxlength="150" >
                    <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                    <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                  </mat-form-field>
            </div>
            <br>
            <label>2. % of Value/ Transactions/ Incidents</label>  
            <div class="row">
                <div class="box">
                    <div class="dx-field-value" >
                        <dx-slider  style="width: 200px;"
                        [min]="1"
                        [max]="100"
                        valueChangeMode="onHandleRelease"
                        [(value)]="nonkeystart1"
                        formControlName="nonkeyrangestartValue"
                      >
                      <dxo-label
                      [visible]="true"
                      [format]="nonkeyformat1"
                      position="top"
                    ></dxo-label>
                    <dxo-tooltip 
                    [enabled]="true"
              [format]="format1"
              showMode="always"
              position="top"
            ></dxo-tooltip>
                </dx-slider>
                      </div>
                </div>
            </div>
            <br>
            <div class="box" style="width: 400px;">
                <mat-form-field  appearance="fill" class="form-field" >
                    <mat-label>Description for Percentage Value Sampling</mat-label>
                    <input matInput  #titleinput  formControlName="nonkeycontrolpercantageDescsampling"  maxlength="150" >
                    <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                    <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                  </mat-form-field>
            </div>
            <br>
            <label>3.Description</label>
            <div class="box" style="width: 400px;">
                <mat-form-field  appearance="fill" class="form-field" >
                    <mat-label>Text Description of Sampling </mat-label>
                    <input matInput  #titleinput  formControlName="nonkeykeycontroltextDescsampling"  maxlength="150" >
                    <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                    <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                  </mat-form-field>
            </div>
            </div>
        </div>
        <div class="box"  >
          <div *ngIf="GeneralControlsvisible"  formGroupName="third" style="height: 25%;" style=" box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);">
            
            <label>1. Min No. of Value/ Transactions/ Incidents </label>  
                  <div class="dx-field-value" >
                    <dx-range-slider  style="width: 200px;"
                      [(start)]="genericstart"
                      [(end)]="genericend"
                      [min]="1"
                      [max]="999999999999999"
                    >
                    <dxo-label
                    [visible]="true"
                    [format]="genericformat"
                    position="top"
                  ></dxo-label>
                    <dxo-tooltip
                    [enabled]="true"
                    [format]="format"
                    showMode="always"
                    position="bottom"
                  ></dxo-tooltip>
                </dx-range-slider>
                  </div>
                  <div class="box" style="width: 400px;">
                  <dx-number-box 
                  [(value)]="genericstart"
                  label="Start value"
                  formControlName="genericstartValue"
                  [min]="1"
                  [max]="999999999999999"
                  [showSpinButtons]="true"
                  [inputAttr]="{ 'aria-label': 'Start Value' }"
                ></dx-number-box>
                <dx-number-box 
                [(value)]="genericend"
                label="End value"
                formControlName="genericendValues"
                [min]="1"
                [max]="999999999999999"
                [showSpinButtons]="true"
                [inputAttr]="{ 'aria-label': 'End Value' }"
              ></dx-number-box>
          </div>
          <br>
          <div class="box" style="width: 400px;">
              <mat-form-field  appearance="fill" class="form-field" >
                  <mat-label>Description for Transactional Value Sampling</mat-label>
                  <input matInput  #titleinput  formControlName="generictranscationDescsampling"  maxlength="150" >
                  <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                  <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                </mat-form-field>
          </div>
          <br>
          <label>2. % of Value/ Transactions/ Incidents</label>
          <div class="row">
              <div class="box">
                  <div class="dx-field-value" >
                      <dx-slider  style="width: 200px;"
                      [min]="1"
                      [max]="100"
                      valueChangeMode="onHandleRelease"
                      [(value)]="genericstart1"
                      formControlName="genericrangestartValue"
                    >
                    <dxo-label
                    [visible]="true"
                    [format]="genericformat1"
                    position="top"
                  ></dxo-label>
                  <dxo-tooltip 
                  [enabled]="true"
            [format]="format1"
            showMode="always"
            position="top"
          ></dxo-tooltip>
              </dx-slider>
                    </div>
              </div>
          </div>
          <br>
          <div class="box" style="width: 400px;">
              <mat-form-field  appearance="fill" class="form-field" >
                  <mat-label>Description for Percentage Value Sampling</mat-label>
                  <input matInput  #titleinput  formControlName="genericpercantageDescsampling"  maxlength="150" >
                  <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                  <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                </mat-form-field>
          </div>
          <br>
          <label>3.Description</label>
          <div class="box" style="width: 400px;">
              <mat-form-field  appearance="fill" class="form-field"  >
                  <mat-label>Text Description of Sampling</mat-label>
                  <input matInput  #titleinput  formControlName="generictextDescsampling"  maxlength="150"  >
                  <mat-hint align="start" >Min 1 - Max 150 Characters</mat-hint>
                  <mat-hint align="end">{{titleinput.value.length}}/150</mat-hint> 
                </mat-form-field>
          </div>
          </div>
      </div>
      



           
</div>
          
      
          <div class="row">
         
          </div>
        
      
        <div class="margin-top"></div>
    <div class="button">
     <button class="grey-button"  (click)="Cancel()" >Cancel</button>
      <button class="Custombutton"  >Update</button>
    </div>
   </form>
      </div>
    </div></div>
