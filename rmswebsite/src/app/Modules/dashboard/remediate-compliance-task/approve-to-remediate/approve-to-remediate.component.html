<div class="table-container">
  <table class="table" *ngIf="isVisibleDetails">
    <tbody>
      <tr *ngFor="let Details of paginatedData">  
        <td colspan="2"><strong>Entity Name:  </strong>{{ Details.entityName }}</td>   
        <td colspan="2"><strong>Unit Location Name: </strong>{{ Details.unitLocationName }}</td> 
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="1"><strong>Compliance ID:  </strong>{{ Details.complianceID  }}</td>   
        <td colspan="3"><strong>Compliance Name:  </strong>{{ Details.complianceName }}</td> 
      </tr>    
        <tr *ngFor="let Details of paginatedData">  
        <td colspan="4"><strong>Compliance Description:  </strong>{{ Details.compliance_description }}</td> 
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="2"><strong>Act Name:  </strong>{{ Details.actName }}</td>   
        <td colspan="2"><strong>Rule Name:  </strong>{{ Details.ruleName }}</td> 
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="1"><strong>Section/ Rule/ Regulation: </strong>{{ Details.recurrence }}</td>   
        <td colspan="1"><strong>StatutoryForm:  </strong>{{ Details.statutoryForm }}</td> 
        <td colspan="1"><strong>Compliance Period:  </strong>{{Details.compliancePeriod }}
          <br>
          {{Details.recurrence}}
        </td>   
        <td colspan="1"><strong>Risk Classification:  </strong>{{ Details.riskClassification }}</td> 
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="1"><strong>Compliance Type:  </strong>{{ Details.complianceType }}</td>   
        <td colspan="1"><strong>Category of Law:  </strong>{{ Details.categoryLaw }}</td> 
        <!-- <td colspan="1"><strong>Compliance Due Date:  </strong>{{ getFormattedDate(Details.effective_from) }} - {{ getFormattedDate(Details.effective_till) }}</td>    -->
        <td colspan="1"><strong>Compliance Due Date:  </strong>{{ Details.dueDate | date:'MMM-dd-yyyy' }}</td>   
        <!-- <td colspan="1"><strong>Approved Remedial Comply Date:  </strong>{{ Details.remedialDate }}</td>  -->
        <td colspan="1"><strong>Approved Remedial Comply Date:  </strong>{{ Details.recurrence}}</td> 
     
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="1"><strong>Is Authorization Workflow applied?:  </strong>{{ Details.authWorkflow }}</td>   
        <td colspan="1"><strong>Is Audit Workflow applied?:  </strong>{{ Details.auditWorkflow }}</td> 
        <td colspan="1"><strong>Compliance Stage Progress:  </strong>{{ Details.compliance_stage_progress }}</td>   
        <td colspan="1"><strong>Compliance Status:  </strong>  {{ Details.compliance_status }}</td> 
      </tr>
      <tr *ngFor="let Details of paginatedData">
        <td colspan="4"><strong>Person Responsible:  </strong>{{ Details.recurrence }}</td>   
      </tr>    
    </tbody>
  </table>
    <table class="table"*ngFor="let Details of paginatedData">
      <thead>
        <tr>
          <th colspan="4" class="header-left">Jurisdiction Location :</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Law Type</strong></td>
          <td>{{ Details.law_type }}</td>
          <td><strong>Regulatory Authority</strong></td>
          <td>{{ Details.regulator }}</td>
        </tr>
        <tr>
          <td><strong>Jurisdiction Category</strong></td>
          <td>{{ Details.jurisdiction_category }}</td>
          <td><strong>Country Name</strong></td>
          <td>{{ Details.country_name || 'N/A' }}</td>
        </tr>
        <tr>
          <td><strong>State / Region Name</strong></td>
          <td>{{ Details.state_name || 'N/A' }}</td>
          <td><strong>District / Locality Name</strong></td>
          <td>{{ Details.jurisdiction_district || 'N/A' }}</td>
        </tr>
      </tbody>
    </table>
    <div class="pager" *ngIf="totalCompliance > 1">
      <button mat-button (click)="onPrevious()" class="pager-button" [disabled]="currentIndex === 0">Previous</button>
      <span>Compliance {{ currentIndex + 1 }} of {{ totalCompliance }}</span>
      <button mat-button (click)="onNext()" class="pager-button" [disabled]="currentIndex >= totalCompliance - 1">Next</button>
    </div>
  </div>
  <div class="form-container">
    <div class="title-container">
      <h2 class="title">Remediation Plan Request:</h2>
      <table class="table1" *ngFor="let Details of paginatedData">
        <tbody>
          <tr>
            <td><strong>Proposed Remedial Comply Date</strong></td>
            <td></td>
            <td><strong>RPA Request Date</strong></td>
            <td></td>
          </tr>
          <tr>
            <td>{{ Details.remedialDate | date: 'MMM-dd-yyyy'}}</td>
            <td></td>
            <td>{{ Details.rpa_request_date | date: 'MMM-dd-yyyy' }}</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>Remediation Reason/ Remarks</strong></td>
            <td></td>
          </tr>
          <tr>
            <td>{{ Details.remediation_request_remarks }}</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
   
  </div>

  <!-- *ngIf="rejectremark" -->
  <form [formGroup]="Approveremidateform">
    <div class="form-section"  >
      <div class="form-field-row">
        <div class="form-field-container remarks-container">
          <mat-form-field appearance="outline" class="remarks-field" visible="false">
            <mat-label>Rejection Remarks</mat-label>
            <textarea matInput placeholder="Enter remarks (max 250 characters)" #rejectionemarks formControlName="RejectionRemedialremarks" maxlength="250" rows="4"></textarea>
            <mat-hint align="end">{{ rejectionemarks.value.length || 0 }}/250</mat-hint>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="button-section">
      <button mat-raised-button (click)="onReject()" class="reject-button">Reject</button>
    </div>
  <div class="form-container" >
    <div class="title-container">
      <h2 class="title">Remediation Plan Approval:</h2>
    </div>
    <div class="form-section">
    <div class="form-field-row date-container">
      <mat-form-field appearance="outline" class="date-field">
        <!-- <mat-label>Approved Remedial Comply Date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="ApprovedRemedialDate" placeholder="Choose a date">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker> -->

      
        <!-- <input matInput [matDatepicker]="picker" formControlName="ApprovedRemedialDate" 
        [min]="minDate" [max]="dueDate" [matDatepickerFilter]="dateFilter" placeholder="Choose a remedial date">
 <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
 <mat-datepicker #picker></mat-datepicker>
 <mat-error *ngIf="Approveremidateform.get('ApprovedRemedialDate')?.hasError('invalidDateRange')">
   The date must be between today and the due date.
 </mat-error> -->
 <input matInput [matDatepicker]="picker" formControlName="ApprovedRemedialDate"
 [min]="dueDate" [matDatepickerFilter]="dateFilter" placeholder="Choose a remedial date">
<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
<mat-datepicker #picker></mat-datepicker>
<mat-error *ngIf="Approveremidateform.get('ApprovedRemedialDate')?.hasError('invalidDate')">
The date must be after the due date.
</mat-error>
      </mat-form-field>
    </div>
    </div>
    <div class="form-section">
      <div class="form-field-row">
        <div class="form-field-container remarks-container">
          <mat-form-field appearance="outline" class="remarks-field" visible="false">
            <mat-label>Remediation Remarks</mat-label>
            <textarea matInput placeholder="Enter remarks (max 250 characters)" #approveremarks formControlName="ApprovedRemedialremarks" maxlength="250" rows="4"></textarea>
            <mat-hint align="end">{{ approveremarks.value.length || 0 }}/250</mat-hint>
          </mat-form-field>
        </div>
  
        <!-- Text Above and Below the Symbol -->
        <!-- <div class="symbol-container">
          <div class="text-symbol">
            <div class="symbol-text top-text">As</div>
            <div class="arrow">â‡”</div>
            <div class="symbol-text bottom-text">Applicable</div>
          </div>
        </div> -->
  
        <!-- <div class="form-field-container remarks-container">
          <mat-form-field appearance="outline" class="remarks-field">
            <mat-label>Remediation Rejection/Remarks</mat-label>
            <textarea matInput placeholder="Enter remarks (max 250 characters)" [(ngModel)]="remarks" maxlength="250" rows="4"></textarea>
            <mat-hint align="end">{{ remarks.length || 0 }}/250</mat-hint>
          </mat-form-field>
        </div> -->
      </div>
    </div>
  
    <!-- Buttons -->
    <div class="button-section">
      <button mat-button (click)="onCancel()" class="cancel-button">Cancel</button>
      <button mat-raised-button (click)="onUpdate()" class="update-button">Update</button>
    </div>
</div>
  </form>
  
  
  
  
  
  
  
  
  